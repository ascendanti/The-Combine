name: mistral-optimized
backend: llama-cpp
parameters:
  model: mistral-7b-instruct-v0.2.Q4_K_M.gguf
  # CPU optimization settings
  threads: 10
  batch: 512
  n_batch: 512
  # Reduced context for claim extraction (saves memory)
  context_size: 2048
  # Memory optimization
  mmap: true
  # Disable features not needed for extraction
  rope_scaling: ""
  rope_freq_base: 0
  rope_freq_scale: 0

# Simple template for extraction tasks
template:
  completion: "{{.Input}}"
  chat: "{{.Input}}"
  chat_message: |-
    {{if eq .RoleName "user" -}}
    [INST] {{.Content}} [/INST]
    {{- else -}}
    {{.Content}}
    {{- end -}}

stopwords:
  - "</s>"
  - "[/INST]"
  - "<|im_end|>"
